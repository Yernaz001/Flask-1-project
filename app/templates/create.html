{% extends 'base.html' %}

{% block head %}

{% endblock %}

{% block body %}

<body>
    <h2>Supplier Information Form</h2>
    <form action="" method="post">
        <label for="supplier">Supplier:</label>
        <input type="text" name="supplier" id="supplier" required>

        <label for="name">Product Name:</label>
        <input type="text" name="name" id="name" required>

        <label for="quantity">Quantity:</label>
        <input type="number" name="quantity" id="quantity" required>

        <label for="price">Price:</label>
        <input type="number" step="0.01" name="price" id="price" required>

        <label for="category">Category:</label>
        <select name="category" id="category">
            <option value="" disabled selected>Select a category</option>
            {% for category in categories %}
                <option value="{{ category.id }}">{{ category.name }}</option>
            {% endfor %}
            <option value="new">Add a new category</option>
        </select>

        <input type="text" name="new-category-name" id="new-category-name" placeholder="New Category Name" style="display: none;" required>
        <input type="submit" value="Submit">
    </form>
</body>

<script>
    const categorySelect = document.getElementById("category");
    const newCategoryNameInput = document.getElementById("new-category-name");

    categorySelect.addEventListener("change", function () {
        if (categorySelect.value === "new") {
            newCategoryNameInput.style.display = "block";
            newCategoryNameInput.setAttribute("required", "required");
        } else {
            newCategoryNameInput.style.display = "none";
            newCategoryNameInput.removeAttribute("required");
        }
    });
</script>

{% endblock %}
